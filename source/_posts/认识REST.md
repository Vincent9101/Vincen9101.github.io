---
title: 认识REST
date: 2019-04-02 20:01:50
tags: http
categories: note 
---
# 认识REST
## REST架构风格重要的6个约束
- 客户-服务器(Client-Server)
通信只能由客户端单方面发起，表现为请求-响应的形式。
- 无状态(Stateless)
通信的会话状态(Session State)应该全部由客户端负责维护。
- 缓存(Cache)
响应内容可以在通信链的某处被缓存，以改善网络效率。
- 统一接口(Uniform Interface)
通信链的组件之间通过统一的接口互相通信，以提高交互的可见性。
- 分层系统(Layered System)
通过限制组件的行为(即，每个组件只能“看到”与其交互的紧邻层)，将架构分解为若干等级的层次。
- 按需代码(Code-On-Demand 可选)
支持通过下载并执行一些代码(例如 JavaApplet、Flash、JavaScript),对客户端的功能进行扩展。

## 理解REST的五个关键词
### 资源(Resource)
什么是资源呢？是一种看待服务器的方式，即将服务器看作是由很多离散的资源组成。每个资源是服务器上一个可命名的抽象概念。因为资源是一个抽象的概念，所以它不仅仅能代表服务器文件系统中的一个文件、数据库中的一张表等具体的东西，可以将资源设计的要多抽象有多抽象，只要想象力允许而且客户端用户开发者能够理解。与面向对象设计类似，资源是以名字为核心来组织的，首先关注的是名词。一个资源可以有一个或者多个URI来标识。URI既是资源的名称，也是资源在Web的地址。对某个资源感兴趣的客户端应用，可以通过资源的URI与其进行交互。
### 资源的表述(Representation)
资源的表述是一端对于资源在某个特定时刻的状态的描述。可以在客户端-服务器之间转移（交换）。资源的表述可以有多种格式，例如HTML/XML/JSON/纯文本/图片/视频/音频等。资源的表述格式可以通过协商机制来确定。请求-响应方向的表述通常使用不同的格式。
### 状态转移(State Transfer)
状态转移是指：客户端和服务器端之间的转移(transfer)代表资源状态的表述。通过转移和操作资源的表述。来间接实现操作资源的目的。
### 统一接口(Uniform Interface)
REST要求，必须通过统一的接口来对资源执行各种操作。对于每个资源只能执行一组有限的操作。以HTTP/1.1协议为例，HTTP/1.1协议定义了一个操作资源的统一接口。大致如下：
- 7个HTTP方法:GET/POST/PUT/DELETE/PATCH/HEAD/OPTIONS
- HTTP头信息(可自行定义)
- HTTP响应状态代码(可自定义)
- 一套标准的内容协商机制
- 一套标准的缓存机制
- 一套标准的客户端身份认证机制
**REST还要求，对于资源执行的操作，其操作语义必须由HTTP消息体之前的部分完全表达,不能将操作语义封装在HTTP消息体内部。这样做是为了提高交互的可见性，以便通信链的中间组件实现缓存、安全审计等等功能。**
### 超文本驱动(HyperText Driven)
“超文本驱动”又名“将超媒体作为应用状态的引擎”。将Web应用看作是一个由很多状态(应用状态)组成的有限状态机。资源之间通过超链接相互关联，超链接既可以代表资源之间的关系，也代表可执行的状态迁移。

